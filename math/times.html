<html>
<head>  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script>

    function element(id) {
      return document.getElementById(id);
    }

    function getRandomInt(max) {
      return Math.floor(Math.random() * max);
    }

    function factor() {
      return getRandomInt(9) + 2;
    }

    function pickNumbers() {
      element("num1").innerText=factor();
      element("num2").innerText=factor();
    }

    function show(id) {
      element(id).hidden = false;
    }

    function hide(id) {
      element(id).hidden = true;
    }

    function focus() {
      element("answer").focus();
    }

    function check() {
      var num1 = element("num1").innerText;
      var num2 = element("num2").innerText;
      var answer = element("answer").value.trim();
      var good = answer == num1 * num2;
      hide("good");
      hide("bad");
      if (good) {
        show("good");
        element("score").innerText++;
        pickNumbers();
      } else {
        show("bad");
      }
      element("answer").value="";
      focus();

    }

    function start() {
      element("score").innerText = 0;
      element("time").innerText = 100;
      show("board");
      hide("start");
      pickNumbers();
      focus();
      setInterval(function() {
        var time = element("time");
        if (time.innerText==0) {
          show("start");
          hide("board");
        } else {
          time.innerText--;
        }
      }, 1000);
    }

  </script>
</head>
<body>
  <small>v1.2</small>
  

  <center>

  זמן: <span id="time" style="color:blue">100</span>
  ניקוד: <span id="score" style="color:blue">0</span>
  <br>
  <br>
  <input id="start" type="button" onclick="start()" value="התחלה">
  <div hidden id="board">
    <span id="num1">0</span> x <span id="num2">0</span> = <input id="answer" type="number" value="" size="3">

    <input type="button" value="בדיקה" onclick="check()">
    <img src="large-green-circle.png" id="good" width="12pt" hidden>
    <img src="large-red-circle.png" id="bad" width="12pt" hidden>
  </div>

  </center>

  <script>

  var input = element("answer");

  input.addEventListener("keyup", function(event) {
    if (event.keyCode === 13) {
      event.preventDefault();
      check();
    }
  }); 

  </script>
</body>
</html>
